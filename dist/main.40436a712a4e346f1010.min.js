(()=>{"use strict";var e,t={148:(e,t,r)=>{var n=r(863),s=r.n(n);class o{constructor(e,t){if(e.length!=t.length)throw new Error("xValues and yValues rows must be of the same length.");this.xValues=e,this.yValues=t}size(){return this.xValues.length}getXValues(){return this.xValues}getYValues(){return this.yValues}}class a{constructor(){this.xValues=[],this.yValues=[]}calc(e,t){this.xValues=e.getXValues(),this.yValues=e.getYValues();const r=e.size(),n=t;let s=0;for(let e=0;e<r;e++){let t=1;const r=[0];for(let s=0;s<e;s++)t*=n-this.xValues[s],r.push(s+1);s+=t*this.func(r)}return s}func(e){const t=e.length;return 1===t?this.yValues[e[0]]:(this.func(e.slice(1,t))-this.func(e.slice(0,t-1)))/(this.xValues[e[t-1]]-this.xValues[e[0]])}}class l{constructor(){this.xValues=[],this.yValues=[],this.n=0}calc(e,t){this.xValues=e.getXValues(),this.yValues=e.getYValues(),this.n=e.size();const r=t,n=this.xValues[1]-this.xValues[0],s=this.calcFiniteDifferences(this.n)[0];let o=1,a=0;for(let e=0;e<this.n;e++)a+=s[e]*o,o*=(r-this.xValues[e])/(n*(e+1));return a}calcFiniteDifferences(e){const t=new Array;t.push(this.yValues);for(let r=0;r<e;r++){const n=new Array;for(let s=0;s<e-r;s++)n.push(t[r][s+1]-t[r][s]);t.push(n)}const r=new Array;for(let n=0;n<e+1;n++){const s=new Array;for(let r=0;r<e-n+1;r++)s.push(t[r][n]);r.push(s)}return r}}class i{getLatexExpression(){return"no no no"}calc(e,t){const r=e.getXValues(),n=e.getYValues(),s=t,o=e.size();let a=0;for(let e=0;e<o;e++){let t=1;for(let n=0;n<o;n++)e!==n&&(t*=(s-r[n])/(r[e]-r[n]));a+=n[e]*t}return a}}const u=document.querySelector(".form"),c=document.querySelector(".interpolation-point-value-lagrange"),h=document.querySelector(".interpolation-point-value-newton-finite-differences"),f=document.querySelector(".interpolation-point-value-newton-various-differences"),w=(new o(new Array(.1,.2,.3,.4,.5),new Array(1.25,2.38,3.79,5.44,7.14)),new o(new Array(.15,.2,.33,.47,.62),new Array(1.25,2.38,3.79,5.44,7.14)),new o(new Array(1.9,4.12,5.4),new Array(.946,-.83,-.773))),y=new o(new Array(.3,.95,1.18,2.39,3.3,4,5.3,5.76),new Array(.296,.813,.925,.683,-.158,-.757,-.832,-.5)),p=new o(new Array(5,.8,3.2,4,2.7,2.2,3.7,1.8,4.4,1.9),new Array(-.958,.717,-.058,-.757,.427,.808,-.529,.973,-.951,.946)),g=new o(new Array(15,.8,9.03,4,13.3,2.2,6.7,11.8,18.4,21.2),new Array(.65,.717,.385,-.757,.67,.808,.405,-.694,-.435,.711));new o(new Array(1,2,3,4,5,6),new Array(1,4,9,16,25,36)),new o(new Array(1,2,3,4,5,6,7,8),new Array(.8414709848078965,.9092974268256817,.1411200080598672,-.7568024953079282,-.9589242746631385,-.27941549819892586,.6569865987187891,.9893582466233818));function x(e,t){let r=3;return t&&(r=t),Number(e.toFixed(r))}function d(e){let t=e;void 0===e&&(t="?"),h.innerText=t}function m(e){return"string"==typeof e&&(!isNaN(Number(e))&&!isNaN(parseFloat(e)))}u.addEventListener("submit",(e=>{const t=new FormData(u),r=t.get("interpolation-point"),n=t.get("table"),h=t.get("preset");let V,v=!0;try{if("none"===h)V=function(e){const t=e.trim().split("\n");if(2!=t.length)throw new Error("Входные данные должны состоять из 2 строк");const r=t[0].trim().split(" "),n=t[1].trim().split(" ");if(r.length!=n.length)throw new Error("Количество иксов должно быть равно количеству игреков");const s=new Array,a=new Array;for(const e of r){if(!m(e))throw new Error("Неправильный x: "+e);s.push(parseFloat(e))}for(const e of n){if(!m(e))throw new Error("Неправильный y: "+e);a.push(parseFloat(e))}return new o(s,a)}(n),v=!1;else switch(h){case"three":V=w;break;case"eight":V=y;break;case"ten-one":V=p;break;case"ten-two":V=g;break;default:throw new Error(`Got undefined "preset" value: "${h}".`)}if(!m(r))throw new Error("Invalid interpolation point value type. Float number expected.");!function(e,t,r){const n=function(e){const t=e.getXValues(),r=t[1]-t[0];for(let e=2;e<t.length;e++)if(t[e]-t[e-1]!=r)return!1;return!0}(e),o=e.getXValues(),u=e.getYValues(),h=Math.min(...o),w=Math.max(...o),y=new i,p=new l,g=new a,m=new Array,V=new Array,v=new Array,A=new Array,b=new Array,k=.1,F=.05;for(let t=h-k;t<w+k;t+=F)m.push(t),V.push(x(y.calc(e,t))),v.push(x(g.calc(e,t))),n&&A.push(x(p.calc(e,t))),b.push(x(Math.sin(t)));console.log("l y",V),console.log("v y",v),console.log("f y",A);const O={x:m,y:A,mode:"lines",type:"scatter",name:"Инт-я Ньютона с конечн. разн."},E={x:m,y:b,mode:"lines",type:"scatter",name:"sin(x)"},j=[{x:o,y:u,mode:"markers",type:"scatter",name:"Исх точки",marker:{color:"rgb(255, 217, 102)",size:12}},{x:m,y:V,mode:"lines",type:"scatter",name:"Инт-я Лагранжа"},{x:m,y:v,mode:"lines",type:"scatter",name:"Инт-я Ньютона с раздел. разн."}];n&&j.push(O);r&&j.push(E);const N={title:"Интерполяция",xaxis:{title:{text:"x"}},yaxis:{title:{text:"F(x)"}}},X={scrollZoom:!0,displayModeBar:!1,responsive:!0};s().newPlot(document.querySelector(".plot"),j,N,X),function(e){let t=e;void 0===e&&(t="?");c.innerText=t}(y.calc(e,t)),function(e){let t=e;void 0===e&&(t="?");f.innerText=t}(g.calc(e,t)),d(n?p.calc(e,t):void 0)}(V,parseFloat(r),v)}catch(e){alert(e)}e.preventDefault()}))}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,s,o)=>{if(!r){var a=1/0;for(u=0;u<e.length;u++){for(var[r,s,o]=e[u],l=!0,i=0;i<r.length;i++)(!1&o||a>=o)&&Object.keys(n.O).every((e=>n.O[e](r[i])))?r.splice(i--,1):(l=!1,o<a&&(a=o));l&&(e.splice(u--,1),t=s())}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,s,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var s,o,[a,l,i]=r,u=0;for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(i)var c=i(n);for(t&&t(r);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[a[u]]=0;return n.O(c)},r=this.webpackChunk=this.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=n.O(void 0,[863],(()=>n(148)));s=n.O(s)})();